<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  template="/layout/layout.xhtml"
>
  <ui:define name="title">APIトークン発行</ui:define>
  <ui:define name="content">
    <h4>ログイン中のアカウントのAPIトークン</h4>
    <p:panel id="token">
      <h:outputText value="#{tokenPub.token}" />
      <h:outputText
        value="ログイン中のアカウントにトークンは発行されていません。"
        rendered="#{tokenPub.token == null}"
      />
    </p:panel>
    <div jsf:id="btns">
      <p:commandButton
        id="pub"
        update="token,btns"
        value="発行"
        action="#{tokenPub.publishToken}"
        rendered="#{tokenPub.token == null}"
      />
      <p:commandButton
        id="repub"
        update="token,btns"
        value="再発行"
        action="#{tokenPub.publishToken}"
        rendered="#{tokenPub.token != null}"
      />
      <p:commandButton
        id="delete"
        update="token,btns"
        value="削除"
        action="#{tokenPub.deleteToken}"
        rendered="#{tokenPub.token != null}"
      />
    </div>
  </ui:define>
</ui:composition>